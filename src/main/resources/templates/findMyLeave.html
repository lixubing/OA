<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="easyui/themes/default/easyui.css">
		<link rel="stylesheet" type="text/css" href="easyui/themes/icon.css">

		<script type="text/javascript" src="easyui/jquery.min.js"></script>
		<script type="text/javascript" src="easyui/jquery.easyui.min.js"></script>
		<script type="text/javascript" src="easyui/locale/easyui-lang-zh_CN.js"></script>


	</head>
	<body>
	<script>
			$(function() {
				$('#dl').datagrid({
					url: '/wfe/fidMyHistLeave',
					method:'post',
					striped: true,
					rownumbers: true,
					pagination: true,
					fit: true,
					fitColumns: true,
					border: false,
					pageSize:2,
					pageList:[2,4,6,8,10],
					columns: [
						[{
								field: 'startDate',
								title: '开始日期',
								width: 250
							},{
								field: 'endDate',
								title: '结束日期',
								width: 250
							},{
								field: 'days',
								title: '请假天数',
								width: 200
							},{
								field: 'tpcd',
								title: '请假状态',
								width: 200,
								formatter: function(value,row,index){
								        var tpcd = row.processTpcd;
								        if (tpcd == 10){
								            return '申请中';
								        }else if (tpcd == 12){
								            return '申请成功';
								        }else if (tpcd == 14){
								            return '已拒绝';
								        }
                                }
							},{
								field: 'desc',
								title: '详情',
								width: 200,
								formatter: function(value,row,index){
								        var processInstId = row.processInstId;
                                        return "<a href=' javascript:void (0);' onclick='getHistAvyInfo(" + "\"" + processInstId + "\"" + ");'>详情</a>";
                                }
							}
						]
					]
				});
			});
			function getHistAvyInfo(rows){
			    $.post('/wfe/getnum',{"rows":rows});
			}
		</script>

		<div id="dl" ></div>

	</body>
</html>
